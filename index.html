<!doctype html>
<html lang="en-US">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <title>Jingler: The Jingle Maker</title>
    <link href="styles/style.css" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&family=Inter:wght@400;500;600&display=swap" rel="stylesheet" />

    <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/15.0.4/Tone.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vexflow@4.2.2/build/cjs/vexflow.js"></script>
</head>

<body>
    <div class="gradient-sheen" aria-hidden="true"></div>
    <header class="site-header">
        <div class="logo-lockup">
            <img src="images/jingler-logo.svg" alt="Jingler Logo" class="logo" />
            <div class="title-group">
                <span class="eyebrow">Compose &amp; share miniature masterpieces</span>
                <h1>Jingler</h1>
                <p class="tagline">The Jingle Maker</p>
            </div>
        </div>
    </header>

    <main>
        <section class="hero" aria-labelledby="hero-heading">
            <div class="hero-copy">
                <h2 id="hero-heading">Spin up catchy tunes in seconds</h2>
                <p>Fine-tune your scales, tempos, and textures, then preview your melody on a crisp digital staff. Export, iterate, and build your sonic identity with confidence.</p>
            </div>
            <div class="hero-visual">
                <div class="floating-notes" aria-hidden="true">
                    <span>♪</span>
                    <span>♫</span>
                    <span>♬</span>
                </div>
                <button id="generate" class="styled-button primary-action">New Jingle</button>
            </div>
        </section>

        <section class="app-grid" aria-label="Jingle creation workspace">
            <section class="glass-card params-panel" aria-label="Settings and controls" role="status" aria-live="polite">
                <div class="params-bar">
                    <div class="params-display">
                        <span class="param-item">Scale: <strong id="scale-display">C Major</strong></span>
                        <span class="param-item">Tempo: <strong id="tempo-display">120</strong> BPM</span>
                        <span class="param-item">Max Notes: <strong id="notes-display">6</strong></span>
                        <span class="param-item">Synth: <strong id="synth-display">Synth</strong></span>
                        <span class="param-item">Oscillator: <strong id="osc-display">sine</strong></span>
                    </div>
                    <button id="toggle-settings" class="settings-toggle" aria-expanded="false">⚙️ Settings</button>
                </div>

                <div class="controls-container" id="controls-container" style="display: none;">
                    <div class="control-section">
                        <h3>Musical Settings</h3>
                        <div class="control-group">
                            <div class="control-item">
                                <label for="scale">Scale</label>
                                <select id="scale"></select>
                            </div>
                            <div class="control-item">
                                <label for="tempo">Tempo (BPM)</label>
                                <input type="number" id="tempo" value="120" min="20" max="300">
                            </div>
                            <div class="control-item">
                                <label for="numNotesMax">Max # Notes</label>
                                <input type="number" id="numNotesMax" value="6" min="2" max="20">
                            </div>
                            <div class="control-item">
                                <label for="timeSignature">Time Signature</label>
                                <select id="timeSignature" disabled="true">
                                    <option value="4/4">4/4</option>
                                    <option value="3/4">3/4</option>
                                    <option value="2/4">2/4</option>
                                    <option value="6/8">6/8</option>
                                </select>
                            </div>
                            <div class="control-item checkbox-item">
                                <input type="checkbox" id="include32ndNotes" name="include32ndNotes">
                                <label for="include32ndNotes">Include 32nd Notes</label>
                            </div>
                        </div>
                    </div>

                    <div class="control-section">
                        <h3>Audio Settings</h3>
                        <div class="control-group">
                            <div class="control-item">
                                <label for="synthType">Synthesizer</label>
                                <select id="synthType">
                                    <option value="Synth">Synth</option>
                                    <option value="AMSynth">AMSynth</option>
                                    <option value="FMSynth">FMSynth</option>
                                    <option value="MonoSynth">MonoSynth</option>
                                    <option value="DuoSynth">DuoSynth</option>
                                    <option value="MetalSynth">MetalSynth</option>
                                </select>
                            </div>
                            <div class="control-item">
                                <label for="oscillatorType">Oscillator</label>
                                <select id="oscillatorType">
                                    <option value="sine">sine</option>
                                    <option value="square">square</option>
                                    <option value="triangle">triangle</option>
                                    <option value="sawtooth">sawtooth</option>
                                    <option value="pwm">pwm</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section class="glass-card playback-card" aria-label="Playback controls and musical staff">
                <div class="button-row">
                    <button id="export-music-staff" class="styled-button secondary-action">Export</button>
                    <button id="delete-all-jingles" class="styled-button danger-action">Delete All</button>
                </div>
                <div class="musical-staff">
                    <div class="vexbox">
                        <div id="musicalstaff"></div>
                    </div>
                </div>
            </section>

            <section class="glass-card library" aria-labelledby="library-heading">
                <div class="library-header">
                    <h2 id="library-heading">Saved Jingles</h2>
                    <p>Revisit your compositions and rework them on the fly.</p>
                </div>
                <ul id="savedJingles">
                    <div id="savedJinglesDisplay"></div>
                </ul>
            </section>
        </section>
    </main>

    <footer class="site-footer">
        <p>&copy; 2024 Jason Dennis</p>
    </footer>

    <script src="jingler.js"></script>
</body>

</html>
